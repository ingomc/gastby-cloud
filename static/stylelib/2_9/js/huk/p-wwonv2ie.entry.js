import{r as t,e as s,h as i,H as h,c as e}from"./p-8988f6c5.js";import{M as o,h as n,B as a,F as c,J as l,H as r}from"./p-0afcd70e.js";import"./p-90ca3f7c.js";import{t as d}from"./p-bd162f38.js";const u=class{constructor(i){t(this,i),this.icon="information",this.iconClose="close-circle",this.modifier="default",this.label="",this.helptext={id:""},this.showInfobox=!1,this.showOverlay=!1,this.styleShifting={},this.swapToTop=!1,this.componentName="helpbutton",this.classSwapToTop=o(this,"swap-to-top"),this.classIsVisible=o(this,"is-visible"),this.showDetails="Details anzeigen",this.stayInViewportThrottled=d(()=>{this.stayInViewport()},100),this.handleHelpbuttonClicked=t=>{t.stopPropagation(),this.helptext.short?this.showInfobox=!this.showInfobox:(this.showOverlay=!0,this.helptextLongShown.emit(this.helptext.id))},this.handleDetailsLinkClicked=()=>{this.helptextLongShown.emit(this.helptext.id),this.showOverlay=!0,this.showInfobox=!1},this.helptextShortShown=s(this,"helptextShortShown",7),this.helptextLongShown=s(this,"helptextLongShown",7)}handleResize(){this.stayInViewportThrottled()}listenHelpbuttonOpened(t){this.element.contains(t.detail)||(this.showInfobox=!1)}toggleInfobox(){this.showInfobox?(document.dispatchEvent(new CustomEvent("helpbuttonOpened",{detail:this.element})),setTimeout(()=>{this.element.classList.add(this.classIsVisible),this.stayInViewport()},50),this.helptextShortShown.emit(this.helptext.id)):this.element.classList.remove(this.classIsVisible)}stayInViewport(){const t=document.documentElement;let s=0,i={};if(this.contentElement){const h=this.element.getBoundingClientRect(),e=this.contentElement.getBoundingClientRect();(s=e.width+(h.left-e.width)-16)>0&&s<=e.width-32&&(i={right:"auto",left:`-${s}px`});const o=t.clientHeight-e.height-(h.top+h.height)<0;this.element.classList.contains(this.classIsVisible)&&(this.swapToTop=o)}t.clientWidth<=400&&(i.width=`${t.clientWidth-32}px`),this.styleShifting=Object.assign({},i)}handleIcon(){return this.helptext.short&&this.showInfobox?this.iconClose:this.icon}render(){const t=n({componentName:this.componentName,modifier:this.modifier,additionalClasses:[this.swapToTop&&this.classSwapToTop]});return i(h,{class:t},i("span",{class:a(this,"handle"),onClick:this.handleHelpbuttonClicked},i("span",{class:a(this,"icon")},i("huk-icon",{icon:this.handleIcon(),"has-hover":"true"})),!!this.label&&i("span",{class:a(this,"label")},this.label)),i("div",{class:a(this,"wrap")},!!this.helptext.short&&this.showInfobox&&i(c,null,i("div",{class:a(this,"arrow")}),i("div",{class:a(this,"content"),ref:t=>this.contentElement=t,style:this.styleShifting},i("div",{class:a(this,"helptext")},this.helptext.short,!!this.helptext.long&&i("span",{class:a(this,"helptext__details"),onClick:this.handleDetailsLinkClicked},this.helptext.detailsLabel||this.showDetails))))),!!this.helptext.long&&i("huk-overlay",{isVisible:this.showOverlay,onClosed:()=>{this.showOverlay=!1}},i("div",{slot:"overlay",innerHTML:this.helptext.long})))}get element(){return e(this)}static get watchers(){return{showInfobox:["toggleInfobox"]}}static get style(){return".huk-text--white{color:#fff}.huk-text--orange{color:#fba308}.huk-text--mint{color:#00abba}.huk-text--mint-dark{color:#055e5f}\@-webkit-keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}\@keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}.helpbutton{display:inline-block;font-size:18px;line-height:1;-ms-flex-item-align:center;align-self:center;position:relative;font-weight:500}.helpbutton__handle{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.helpbutton__icon{display:inline;font-size:inherit;line-height:1}.helpbutton__wrap{position:relative;height:0}.helpbutton__arrow{position:relative;height:9px;width:18px;pointer-events:none}.helpbutton__arrow:before{content:\"\";position:absolute;display:block;border:.5625rem solid transparent;z-index:1001}.helpbutton__label{color:#fba308;margin-left:1rem;font-size:13px}.helpbutton__label:focus,.helpbutton__label:hover{color:#fb9105}.helpbutton__label:active{color:#f0670a}.helpbutton__content{position:absolute;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;right:-1rem;width:20.9375rem;background-color:#35444c;border-radius:.25rem;padding:1.5rem;color:#fff;font-size:16px;z-index:1000;-webkit-box-shadow:0 .313rem .625rem 0 rgba(0,0,0,.12);box-shadow:0 .313rem .625rem 0 rgba(0,0,0,.12)}.helpbutton__arrow,.helpbutton__content{opacity:0;pointer-events:none}.helpbutton__helptext{line-height:1.5;cursor:default}.helpbutton__helptext__details{display:block;color:#fba308;cursor:pointer}.helpbutton__helptext__details:focus,.helpbutton__helptext__details:hover{color:#fb9105}.helpbutton__helptext__details:active{color:#f0670a}.helpbutton--default .helpbutton__arrow:before{border-bottom-color:#35444c;width:1.125rem;right:0;bottom:0}.helpbutton--darkmode .helpbutton__arrow:before{border-bottom-color:#fff;width:1.125rem;right:0;bottom:0}.helpbutton--darkmode .helpbutton__content{background-color:#fff}.helpbutton--darkmode .helpbutton__helptext{color:#35444c}.helpbutton--is-visible{z-index:1000}.helpbutton--is-visible .helpbutton__arrow,.helpbutton--is-visible .helpbutton__content{opacity:1}.helpbutton--is-visible .helpbutton__content{pointer-events:all}.helpbutton--swap-to-top .helpbutton__arrow{top:-1.125rem}.helpbutton--swap-to-top .helpbutton__arrow:before{border-top-color:#35444c;border-bottom-color:transparent}.helpbutton--swap-to-top .helpbutton__content{border-top:1px solid #fff;bottom:1.6875rem}.helpbutton--swap-to-top.helpbutton--darkmode .helpbutton__arrow{top:-1.25rem}.helpbutton--swap-to-top.helpbutton--darkmode .helpbutton__arrow:before{border-top-color:#fff}"}};!function(t,s,i,h){var e,o=arguments.length,n=o<3?s:null===h?h=Object.getOwnPropertyDescriptor(s,i):h;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(t,s,i,h);else for(var a=t.length-1;a>=0;a--)(e=t[a])&&(n=(o<3?e(n):o>3?e(s,i,n):e(s,i))||n);o>3&&n&&Object.defineProperty(s,i,n)}([l()],u.prototype,"helptext",void 0);const m=class{constructor(i){t(this,i),this.teaserLine="",this.headLine="",this.isVisible=!1,this.fullHeight=!1,this.noRichtextMargins=!1,this.closeable=!0,this.small=!1,this.componentName="overlay",this.overlayViewName="huk-overlay-view",this.isViewHydrated=!1,this.fireClosed=()=>{this.slot&&this.element.appendChild(this.slot),this.isVisible=!1,document.body.style.removeProperty("margin-right"),document.body.style.removeProperty("overflow"),this.toggleOverlay.emit(""),this.closed.emit(),this.overlay.removeEventListener("closed",this.fireClosed)};const h=document.querySelector(this.overlayViewName);this.overlay=h||document.createElement(this.overlayViewName),h||document.body.appendChild(this.overlay),this.closed=s(this,"closed",3),this.toggleOverlay=s(this,"toggleOverlay",7)}componentDidLoad(){this.isVisible&&this.openOverlay()}openOverlay(){this.overlay&&this.overlay.classList.contains("hydrated")?(this.triggerElement?(this.overlay.triggerElement=this.triggerElement,this.overlay.modifier="grow-from-to-animation"):this.overlay.modifier="default",this.overlay.teaserLine!==this.teaserLine&&(this.overlay.teaserLine=this.teaserLine),this.overlay.headLine!==this.headLine&&(this.overlay.headLine=this.headLine),this.overlay.fullHeight!==this.fullHeight&&(this.overlay.fullHeight=this.fullHeight),this.overlay.noRichtextMargins!==this.noRichtextMargins&&(this.overlay.noRichtextMargins=this.noRichtextMargins),this.overlay.closeable!==this.closeable&&(this.overlay.closeable=this.closeable),this.overlay.small!==this.small&&(this.overlay.small=this.small),this.overlay.addEventListener("closed",this.fireClosed),setTimeout(()=>{const t=this.element.querySelector("[slot]"),s=document.querySelector(".overlay-view__richtext");t&&s&&(this.slot=t,s.innerHTML!==this.slot.innerHTML&&s.appendChild(this.slot));const i=window.innerWidth-document.documentElement.clientWidth+"px";document.body.style.marginRight=i,this.toggleOverlay.emit(i),document.body.style.overflow="hidden",document.activeElement instanceof HTMLElement&&document.activeElement!==document.body&&document.activeElement.blur(),this.overlay.open(),r.trackLayer({eventLabel:this.headLine,componentName:"overlay",eventValue:this.teaserLine})},50)):this.isViewHydrated||setTimeout(()=>{this.isViewHydrated=!0,this.openOverlay()},1e3)}changeTeaserLine(){this.overlay.teaserLine!==this.teaserLine&&(this.overlay.teaserLine=this.teaserLine)}changeHeadLine(){this.overlay.headLine!==this.headLine&&(this.overlay.headLine=this.headLine)}watchIsVisible(t,s){t!==s&&(t?this.openOverlay():this.overlay&&this.overlay.classList.contains("hydrated")&&this.overlay.close())}componentDidUnload(){this.isVisible&&(this.isVisible=!1)}render(){const t=n({componentName:this.componentName});return i(h,{class:t})}get element(){return e(this)}static get watchers(){return{teaserLine:["changeTeaserLine"],headLine:["changeHeadLine"],isVisible:["watchIsVisible"]}}};export{u as huk_helpbutton,m as huk_overlay};