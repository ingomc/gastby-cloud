import{r as t,e as i,h as s,H as h}from"./p-8988f6c5.js";import{h as e,B as a}from"./p-0afcd70e.js";import{g as n}from"./p-a283e139.js";const l=class{constructor(s){t(this,s),this.variant="",this.modifier="",this.myHukText="Meine HUK24",this.loginText="Anmelden",this.loginLabelText="Anmelden",this.passwordLabelText="Passwort/PIN",this.usernameLabelText="Benutzerkennung/-name",this.usernameEmptyError="Benutzerkennung/-name kann nicht leer sein.",this.passwordEmptyError="Passwort/PIN kann nicht leer sein.",this.loginFailedText="Login ist nicht mÃ¶glich.",this.isLoginFailedMessageVisible=!1,this.loginFailedMessage="",this.username="",this.password="",this.isPasswordInvalid="not-validated",this.passwordInvalidMessage="",this.isUsernameInvalid="not-validated",this.usernameInvalidMessage="",this.loginLoadingStatus=!1,this.visiblePassword=!1,this.componentName="hero-card-login",this.badgeType="primary",this.loginUser=async t=>{t.preventDefault();let i=!1;return""===this.username.trim()&&(this.isUsernameInvalid="invalid",this.usernameInvalidMessage=this.usernameEmptyError,i=!0),""===this.password.trim()&&(this.isPasswordInvalid="invalid",this.passwordInvalidMessage=this.passwordEmptyError,i=!0),!i&&(this.loginLoadingStatus=!0,await this.authService.login(this.username,this.password).then(()=>{this.username="",this.password="",this.isLoginFailedMessageVisible=!1,this.loginFailedMessage="",this.isPasswordInvalid="not-validated",this.isUsernameInvalid="not-validated"}).catch(()=>{this.loginFailedMessage=this.loginFailedText,this.isLoginFailedMessageVisible=!0,this.passwordInvalidMessage="",this.usernameInvalidMessage="",this.isPasswordInvalid="invalid",this.isUsernameInvalid="invalid"}).then(()=>{this.loginLoadingStatus=!1}),!1)},this.toggleMenuFlyoutEvent=i(this,"toggleMenuFlyoutEvent",7)}async componentWillLoad(){this.authService=await n()}render(){const t=e({componentName:this.componentName,variant:this.variant,modifier:this.modifier});return s(h,{class:t},s("div",{class:a(this,"unauthenticated")},s("huk-badge",{type:this.badgeType,label:this.loginText}),s("div",{class:a(this,"my-huk-text")},this.myHukText),s("form",{onSubmit:this.loginUser},s("huk-input",{onValueChanged:t=>{this.username=t.detail,this.isUsernameInvalid="not-validated",this.isLoginFailedMessageVisible=!1},onBlurred:()=>{""===this.username?this.isUsernameInvalid="not-validated":this.username.length<6?this.isUsernameInvalid="invalid":this.username.length>=6&&(this.isUsernameInvalid="valid")},name:"username",autocomplete:"off",maxlength:60,value:this.username,label:this.usernameLabelText,modifier:"small",validity:this.isUsernameInvalid,errorMessage:this.usernameInvalidMessage}),s("huk-input",{onValueChanged:t=>{this.password=t.detail,this.isPasswordInvalid="not-validated",this.isLoginFailedMessageVisible=!1},onBlurred:()=>{""===this.password?this.isPasswordInvalid="not-validated":this.password.length<6?this.isPasswordInvalid="invalid":this.password.length>=6&&(this.isPasswordInvalid="valid")},autocomplete:"off",maxlength:16,value:this.password,label:this.passwordLabelText,type:this.visiblePassword?"text":"password",button:this.visiblePassword?"eye-disabled":"eye",onButtonClicked:()=>{this.visiblePassword=!this.visiblePassword},modifier:"small",validity:this.isPasswordInvalid,errorMessage:this.passwordInvalidMessage}),this.isLoginFailedMessageVisible&&s("huk-error",{message:this.loginFailedMessage}),s("huk-button",{loading:this.loginLoadingStatus,variant:"cta",modifier:"small forward pull-right",label:this.loginLabelText,buttonType:"submit"}))))}static get style(){return".huk-text--white{color:#fff}.huk-text--orange{color:#fba308}.huk-text--mint{color:#00abba}.huk-text--mint-dark{color:#055e5f}\@-webkit-keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}\@keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}.hero-card-login{display:block;position:relative;min-height:21.875rem;padding:1.5rem;border-radius:.25rem;background-color:#fff;-webkit-box-shadow:0 .313rem .625rem 0 rgba(0,0,0,.12);box-shadow:0 .313rem .625rem 0 rgba(0,0,0,.12);width:100%;-webkit-transition:-webkit-box-shadow .7s ease-in 0ms;transition:-webkit-box-shadow .7s ease-in 0ms;transition:box-shadow .7s ease-in 0ms;transition:box-shadow .7s ease-in 0ms,-webkit-box-shadow .7s ease-in 0ms}.hero-card-login huk-input{margin-bottom:.25rem}.hero-card-login huk-error{margin-bottom:1rem}.hero-card-login huk-button{margin-bottom:0}.hero-card-login__my-huk-text{font-size:23px;font-weight:700;margin-bottom:.6rem;margin-top:3.6rem}"}};export{l as huk_hero_card_login};