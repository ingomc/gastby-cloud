import{r as t,e as s,h as i,H as h,c as e}from"./p-8988f6c5.js";import{B as n,h as a,V as o,q as r,c as d}from"./p-0afcd70e.js";import{s as l,i as c,d as u,e as p}from"./p-7fc597e3.js";const v=class{constructor(i){t(this,i),this.name="",this.label="",this.leftAligned=!1,this.icon=void 0,this.unit="",this.pluralUnit="",this.modifier="default",this.type="text",this.pattern=void 0,this.inputmode=void 0,this.value="",this.button=void 0,this.loading=!1,this.required=!1,this.placeholder="",this.autocomplete="on",this.showInputLimits=!1,this.showPasswordStrength=!1,this.passwordStrength=void 0,this.passwordStrengthLoading=!1,this.disabled=!1,this.readonly=!1,this.typeaheadOptions=[],this.minlength=void 0,this.maxlength=void 0,this.validity="not-validated",this.errorMessage=[],this.maskConfig=void 0,this.maskInput=void 0,this.isEmpty=!0,this.hasFocus=!1,this.highlightedOptionIndex=void 0,this.formattedValue="",this.labelValue="",this.componentName="input",this.handleInputInProgress=!1,this.handleFocus=()=>{this.hasFocus||(document.addEventListener("keydown",this.handleKeydown),this.hasFocus=!0,this.maskConfig&&this.isEmpty&&(this.input.value=this.formattedValue,requestAnimationFrame(()=>this.input.setSelectionRange(0,0))),this.focussed.emit())},this.focusOnInnerClick=()=>{this.innerRef.addEventListener("click",()=>{this.input.value||this.hasFocus||(this.hasFocus=!0,this.input.focus()),this.focussed.emit()})},this.handleBlur=t=>{const s=r(t);s&&this.element.contains(s)||(document.removeEventListener("keydown",this.handleKeydown),this.hasFocus=!1,this.isEmpty&&(this.input.value=""),this.blurred.emit(t.target.value))},this.widthCalculator=()=>{const t=this.value.replace(/\D/g,"");this.hiddenSpan.innerHTML=t,this.input.style.width=this.hiddenSpan.offsetWidth+"px"},this.handleInput=()=>{this.handleInputInProgress=!0,this.maskInput&&this.maskInput.update(),this.formattedValue!==this.input.value&&(this.formattedValue=this.input.value,this.maskConfig?(this.value=l(this.formattedValue,this.maskConfig.mask,this.maskConfig),this.isEmpty=c(this.value,this.maskConfig)):(this.value=this.formattedValue,this.isEmpty=!this.value),this.valueChanged.emit(this.value)),this.unit&&this.leftAligned&&this.widthCalculator(),this.handleInputInProgress=!1},this.handleButtonClick=()=>{this.buttonClicked.emit()},this.handleKeydown=t=>{switch(t.key&&t.key.toLowerCase()){case"arrowdown":this.handleKeyArrowDown(t);break;case"arrowup":this.handleKeyArrowUp(t);break;case"enter":this.handleKeyEnter()}},this.handleOptionMouseLeave=()=>{this.highlightedOptionIndex=void 0},this.focussed=s(this,"focussed",3),this.blurred=s(this,"blurred",3),this.valueChanged=s(this,"valueChanged",3),this.valueSelected=s(this,"valueSelected",3),this.buttonClicked=s(this,"buttonClicked",3)}handleSelectOption(t){this.value=t.label,this.valueSelected.emit(t.value),this.input.focus()}renderPasswordstrengthLabel(){let t="";switch(this.passwordStrength){case"low":t="Unsicher";break;case"medium":t="Mittlere Sicherheit";break;case"high":t="Hohe Sicherheit"}return!!t&&i("span",{class:n(this,"passwordstrength__label")},t)}renderPasswordstrengthBar(){if(this.showPasswordStrength)return i("div",{class:n(this,"passwordstrength__bar")},i("div",{class:n(this,"passwordstrength__bar__inner")}))}renderPasswordStrengthLoading(){return i("div",{class:n(this,"passwordstrength__is-loading")},i("div",{class:n(this,"passwordstrength__is-loading__inner")}))}handleTypeaheadOptionsChange(){this.highlightedOptionIndex=void 0}handleKeyArrowUp(t){0!==this.typeaheadOptions.length&&(t.preventDefault(),void 0===this.highlightedOptionIndex||0===this.highlightedOptionIndex?this.highlightedOptionIndex=this.typeaheadOptions.length-1:this.highlightedOptionIndex--)}handleKeyArrowDown(t){0!==this.typeaheadOptions.length&&(t.preventDefault(),void 0===this.highlightedOptionIndex||this.highlightedOptionIndex>=this.typeaheadOptions.length-1?this.highlightedOptionIndex=0:this.highlightedOptionIndex++)}handleKeyEnter(){if(0!==this.typeaheadOptions.length&&void 0!==this.highlightedOptionIndex){const t=this.typeaheadOptions[this.highlightedOptionIndex];this.value!==t.value&&this.handleSelectOption(t)}}handleOptionMouseEnter(t){this.highlightedOptionIndex=t}onValueChange(t,s){this.handleInputInProgress||t!==s&&(this.maskConfig?(this.formattedValue=u(this.value,this.maskConfig.mask,this.maskConfig).conformedValue,this.isEmpty=c(this.value,this.maskConfig),this.maskInput&&(this.maskInput.state.previousConformedValue=this.formattedValue)):(this.formattedValue=this.value,this.isEmpty=!this.value),this.input&&(this.input.value=this.isEmpty&&!this.hasFocus?"":this.formattedValue),this.unit&&this.pluralUnit&&this.getLabel(),this.unit&&this.leftAligned&&this.hiddenSpan&&this.widthCalculator())}getLabel(){this.input&&("1"===this.input.value?this.labelValue=this.unit:(this.input.value>"1"||"0"===this.input.value||""===this.input.value)&&(this.labelValue=this.pluralUnit))}setInputFilter(t){["input","keydown","keyup","mousedown","mouseup","select","change"].forEach(s=>{t.addEventListener(s,()=>{if(!/^\d*$/.test(t.value))return t.value=t.value.replace(/\D/g,""),this.value=t.value;this.pluralUnit&&this.getLabel()})})}componentDidLoad(){this.maskConfig&&(this.maskInput=p(Object.assign({inputElement:this.input},this.maskConfig))),this.onValueChange(this.value,void 0),this.unit&&(this.pluralUnit?this.getLabel():this.labelValue=this.unit,this.setInputFilter(this.input),this.leftAligned&&(this.widthCalculator(),this.focusOnInnerClick()))}render(){const t=a({componentName:this.componentName,modifier:[this.modifier,this.disabled&&"is-disabled",o.getCssIsInvalid(this.validity),o.getCssIsValid(this.validity),this.readonly&&"is-readonly",this.required&&"required",this.isEmpty&&"is-empty",this.hasFocus&&"has-focus",this.showPasswordStrength&&"passwordstrength",void 0!==this.passwordStrength&&`passwordstrength--${this.passwordStrength}`,(this.typeaheadOptions.length>0||this.loading)&&"overlay-visible",this.unit&&"unit",this.leftAligned&&"left-aligned",this.icon&&"with-icon"]}),s=d(this.errorMessage),e=this.element.id||this.name;return i(h,{class:t},i("div",{class:n(this,"container")},this.icon&&i("div",{class:n(this,"icon-container")},i("huk-icon",{icon:this.icon,modifier:"lg"})),i("div",{class:n(this,"inner"),ref:t=>this.innerRef=t},i("input",{id:`${e}-input`,name:`${this.name}-input`,type:this.type,class:n(this,"input"),placeholder:this.label?void 0:this.placeholder,inputmode:this.inputmode,required:this.required,autocomplete:this.typeaheadOptions.length?"off":this.autocomplete,disabled:this.disabled,readonly:this.readonly,maxlength:this.maskConfig?void 0:this.maxlength,pattern:this.pattern,onFocus:this.handleFocus,onBlur:this.handleBlur,onInput:this.handleInput,ref:t=>this.input=t}),this.leftAligned&&this.unit&&i("span",{class:n(this,"input-duplicated-hidden"),ref:t=>this.hiddenSpan=t,"aria-hidden":"true"}),i("label",{class:n(this,"label"),htmlFor:`${this.name}-input`},this.label),this.unit&&i("span",{class:n(this,"unit-container")},this.value||this.hasFocus||!this.leftAligned?`${this.labelValue||this.unit}`:""),!!this.button&&i("button",{onClick:this.handleButtonClick,class:n(this,"button",this.button),type:"button",tabindex:"0"})),this.renderPasswordstrengthBar(),(this.typeaheadOptions.length>0||this.loading)&&i("ul",{class:n(this,"container__options")},this.loading&&i("li",{class:n(this,"container__options__item","loading"),tabindex:"-1"},"Einen Moment bitte ..."),!this.loading&&this.typeaheadOptions.map((t,s)=>i("li",{class:n(this,"container__options__item",s===this.highlightedOptionIndex&&"highlighted"),onClick:()=>{this.handleSelectOption(t)},onMouseEnter:()=>{this.handleOptionMouseEnter(s)},onMouseLeave:this.handleOptionMouseLeave,tabindex:"-1"},t.label)))),i("div",{class:n(this,"footer")},i("span",{class:n(this,"footer__left")},o.isInvalid(this.validity)&&s.map(t=>i("huk-error",{message:t})),this.showPasswordStrength&&o.isValid(this.validity)&&this.renderPasswordstrengthLabel(),this.passwordStrengthLoading&&o.isValid(this.validity)&&!this.loading&&this.renderPasswordStrengthLoading()),this.showInputLimits&&void 0!==this.minlength&&void 0!==this.maxlength&&i("span",{class:n(this,"footer__right")},this.minlength,"-",this.maxlength," Zeichen")))}get element(){return e(this)}static get watchers(){return{typeaheadOptions:["handleTypeaheadOptionsChange"],value:["onValueChange"]}}static get style(){return".huk-text--white{color:#fff}.huk-text--orange{color:#fba308}.huk-text--mint{color:#00abba}.huk-text--mint-dark{color:#055e5f}\@-webkit-keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}\@keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}.input{display:block;margin-bottom:1rem;width:100%;position:relative}\@media (min-width:768px){.input{margin-bottom:1.5rem}}.input__container{position:relative;-webkit-transition:border-color .15s,-webkit-box-shadow .15s;transition:border-color .15s,-webkit-box-shadow .15s;transition:border-color .15s,box-shadow .15s;transition:border-color .15s,box-shadow .15s,-webkit-box-shadow .15s;border:1px solid #e7e9ea;background-color:#fff;border-radius:.25rem}.input__container:hover{-webkit-box-shadow:0 .125rem .25rem 0 rgba(79,93,101,.24);box-shadow:0 .125rem .25rem 0 rgba(79,93,101,.24)}.input__container__options{-webkit-transition:border .15s ease-in-out 0ms;transition:border .15s ease-in-out 0ms;position:absolute;z-index:1200;top:100%;left:-1px;right:-1px;background:#fff;list-style-type:none;padding:0;border-left:1px solid #cbcfd2;border-bottom:1px solid #cbcfd2;border-right:1px solid #cbcfd2;border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem;-webkit-box-sizing:border-box;box-sizing:border-box}.input__container__options__item{border-top:1px solid #e7e9ea;padding:.375rem 1rem;cursor:pointer;font-size:13px;-webkit-transition:background .2s ease-in-out 0ms;transition:background .2s ease-in-out 0ms}.input__container__options__item:active{outline:0;background:#e7e9ea}.input__container__options__item:last-child{border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem}\@media (min-width:576px){.input__container__options__item{padding:.5rem 1.5rem}}.input__container__options__item--loading{cursor:wait}.input__container__options__item--highlighted{background:#f7f7f8}.input__icon-container{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;min-width:90px;min-height:90px;height:90px}.input__passwordstrength__bar{display:none}.input__helper{display:block;position:relative;width:100%;padding:0 1rem .5rem}.input__inner{position:relative;border:1px solid transparent;overflow:hidden}.input__input{padding:1.4rem 1rem .25rem;display:block;position:relative;width:100%;height:3.125rem;font-weight:500;font-size:16px;color:#35444c;border:0;-webkit-box-shadow:none;box-shadow:none;background:transparent;-webkit-font-feature-settings:\"lnum\" 1;font-feature-settings:\"lnum\" 1}\@media (min-width:576px){.input__input{font-size:19px;padding:1.7rem 1.625rem .6rem;height:3.75rem}}.input__input:focus{outline:0}.input__input:focus+label{top:.5rem;font-size:13px}\@media (min-width:576px){.input__input:focus+label{top:.6rem}}.input__input::-webkit-input-placeholder{color:#e7e9ea}.input__input::-moz-placeholder{color:#e7e9ea}.input__input:-ms-input-placeholder{color:#e7e9ea}.input__input::-ms-input-placeholder{color:#e7e9ea}.input__input::placeholder{color:#e7e9ea}.input__input::-ms-clear,.input__input::-ms-reveal{display:none}.input--small{margin-bottom:1rem}.input--small .input__label{left:1.1875rem;top:.375rem}.input--small.input--is-empty:not(.input--has-focus) .input__label{top:.8125rem}.input--small .input__input{height:3.1875rem;font-size:16px;padding-left:1.1875rem}.input--small .input__input:focus+.input__label{top:.375rem}.input--numberplate .input__input{padding:.5rem;font-size:23px;font-weight:700;text-align:center}.input--numberplate .input__footer,.input--numberplate .input__label{display:none}.input__label{position:absolute;left:1rem;top:.5rem;font-size:13px;pointer-events:none;-webkit-transition:top .15s,color .15s,font-size .15s;transition:top .15s,color .15s,font-size .15s;font-weight:500;color:#97a0a5;margin:0;white-space:nowrap}\@media (min-width:576px){.input__label{left:1.625rem;top:.6rem}}.input__button{display:block;cursor:pointer;border:0;width:1.725rem;height:1.725rem;position:absolute;right:.5rem;top:50%;margin-top:-.85rem;text-align:center;font-weight:700;z-index:20;background-color:transparent;background-size:100% 100%;background-repeat:no-repeat;background-position:50%}\@media (min-width:576px){.input__button{right:1.25rem}}.input__button:focus{outline:0}.input__button--close{background-image:url(/stylelib/2_9/img/close-circle.svg)}.input__button--close:focus,.input__button--close:hover{background-image:url(/stylelib/2_9/img/close-circle_hover.svg)}.input__button--close:active{background-image:url(/stylelib/2_9/img/close-circle_active.svg)}.input__button--delete{background-image:url(/stylelib/2_9/img/close-circle_gray.svg)}.input__button--datepicker{background-image:url(/stylelib/2_9/img/date-picker.svg)}.input__button--eye{background-image:url(/stylelib/2_9/img/eye.svg)}.input__button--eye:focus,.input__button--eye:hover{background-image:url(/stylelib/2_9/img/eye_hover.svg)}.input__button--eye:active{background-image:url(/stylelib/2_9/img/eye_active.svg)}.input__button--eye-disabled{background-image:url(/stylelib/2_9/img/eye-disabled.svg)}.input__button--eye-disabled:focus,.input__button--eye-disabled:hover{background-image:url(/stylelib/2_9/img/eye-disabled_hover.svg)}.input__button--eye-disabled:active{background-image:url(/stylelib/2_9/img/eye-disabled_active.svg)}.input__footer{display:-ms-flexbox;display:flex;font-size:13px;padding-top:.5rem}\@media (min-width:576px){.input__footer{font-size:16px}}.input__footer__left{-ms-flex:1 1 0%;flex:1 1 0%;color:#c92a2a;-webkit-transition:color .3s;transition:color .3s;padding-right:.5rem}.input__footer__left huk-error{padding-top:0;margin-top:0}.input__footer__right{-ms-flex:0 0 auto;flex:0 0 auto;color:#97a0a5;padding-left:.5rem}.input--has-focus .input__label{color:#68747a}.input--has-focus .input__passwordstrength__bar{background-color:#b0b6ba!important}.input--has-focus .input__container{border:1px solid #b0b6ba}.input--has-focus .input__container__options{border-left:1px solid #b0b6ba;border-bottom:1px solid #b0b6ba;border-right:1px solid #b0b6ba}.input--is-disabled:hover .input__container,.input--is-readonly:hover .input__container{-webkit-box-shadow:none;box-shadow:none}.input--is-disabled .input__input,.input--is-readonly .input__input{-webkit-text-fill-color:#808a90;opacity:1;color:#808a90;cursor:not-allowed}.input--is-disabled .input__label,.input--is-readonly .input__label{pointer-events:none}.input--is-invalid .input__container:after,.input--is-valid .input__container:after{content:\"\";display:block;position:absolute;top:50%;right:1rem;background-size:100% auto;background-repeat:no-repeat;background-position:50%;z-index:10;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none}\@media (min-width:576px){.input--is-invalid .input__container:after,.input--is-valid .input__container:after{right:1.5rem}}.input--is-invalid .input__input,.input--is-valid .input__input{padding-right:3rem}\@media (min-width:576px){.input--is-invalid .input__input,.input--is-valid .input__input{padding-right:3.5rem}}.input--no-label .input__label{display:none}.input--no-label .input__input{padding:.5rem 1rem}.input--is-valid .input__container:after{margin-top:-.406rem;width:15px;height:13px;background-image:url(/stylelib/2_9/img/check.svg)}.input--is-invalid .input__container{border:2px solid #c92a2a}.input--is-invalid .input__container .input__input{border:0}.input--is-invalid .input__container__options{border-left:2px solid #c92a2a;border-bottom:2px solid #c92a2a;border-right:2px solid #c92a2a;left:-2px;right:-2px}.input--is-invalid .input__container:after{margin-top:-.656rem;width:21px;height:21px;background-image:url(/stylelib/2_9/img/error.svg)}.input--is-invalid .input__inner{border-width:0}.input--is-invalid .input__helptext,.input--is-invalid .input__label{color:#c92a2a}.input--is-empty:not(.input--has-focus) .input__label{top:.95rem;font-size:16px}\@media (min-width:576px){.input--is-empty:not(.input--has-focus) .input__label{top:1.2rem;font-size:19px}}.input--overlay-visible .input__container{border-bottom-left-radius:0;border-bottom-right-radius:0}.input--passwordstrength .input__container:after{right:3rem}\@media (min-width:576px){.input--passwordstrength .input__container:after{right:4rem}}.input--passwordstrength .input__inner{border-bottom-left-radius:0;border-bottom-right-radius:0;padding-bottom:0}.input--passwordstrength .input__passwordstrength__bar{display:block;height:.25rem;position:absolute;bottom:-2px;left:-1px;right:-1px;-webkit-transition:background-color .3s ease-in-out 0ms;transition:background-color .3s ease-in-out 0ms;background-color:#e7e9ea}.input--passwordstrength .input__passwordstrength__bar__inner{height:100%;width:0;-webkit-transition:background-color .3s,width .3s;transition:background-color .3s,width .3s}.input--passwordstrength--low .input__passwordstrength__bar__inner{background-color:#ff3535;width:33.3%}.input--passwordstrength--low .input__footer__label{color:#ff3535}.input--passwordstrength--medium .input__passwordstrength__bar__inner{background-color:#fba308;width:66.7%}.input--passwordstrength--medium .input__footer__left{color:#fba308}.input--passwordstrength--high .input__passwordstrength__bar__inner{background-color:#00bf3b;width:100%}.input--passwordstrength--high .input__footer__left{color:#00bf3b}.input--passwordstrength.input--is-valid .input__container:after{display:none}.input--passwordstrength.input--is-invalid .input__passwordstrength__bar{bottom:-3px;left:-2px;right:-2px}.input--passwordstrength.input--is-invalid .input__passwordstrength__bar__inner{-webkit-transition:none;transition:none;background-color:#c92a2a;width:100%}.input .input__passwordstrength__label{margin-right:.5rem}.input .input__passwordstrength__is-loading{display:inline-block;position:relative;width:1rem;height:1rem}.input .input__passwordstrength__is-loading__inner{content:\"\";display:block;position:absolute;z-index:99;opacity:1;color:#fba308;-webkit-animation:spin .85s ease-in-out infinite;animation:spin .85s ease-in-out infinite;border-radius:50%;top:50%;left:50%;margin-left:-.5rem;margin-top:-.5rem;width:1rem;height:1rem;border:.2rem solid transparent;border-top-color:#fba308}.input--unit .input__inner{display:-ms-flexbox;display:flex}.input--unit .input__container:after{display:none}.input--unit .input__input{padding:1rem .5rem 1rem 0;font-size:23px;text-align:right;min-width:0}.input__unit-container{padding:.6rem 1rem 0 0;font-weight:500;font-size:23px;color:#35444c;border:0}\@media (min-width:576px){.input__unit-container{padding:.95rem 1rem 1rem 0}}.input--left-aligned .input__inner{display:-ms-flexbox;display:flex;width:100%;-ms-flex-pack:start;justify-content:flex-start;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;padding:1.5rem 1rem 0}.input--left-aligned .input__container:after{display:block}.input--left-aligned .input__input{min-width:1ch}.input--left-aligned .input__label{color:#97a0a5;font-size:13px;position:absolute;left:15px}\@media (min-width:576px){.input--left-aligned .input__label{font-size:16px}}.input--left-aligned.input--is-empty:not(.input--has-focus) .input__label{top:1.5rem;font-size:16px}\@media (min-width:576px){.input--left-aligned.input--is-empty:not(.input--has-focus) .input__label{top:1.6rem;font-size:19px}}.input__input-duplicated-hidden{font-size:23px;padding-right:.5rem;position:absolute;top:-9999px;visibility:hidden;pointer-events:none;opacity:0}.input--with-icon .input__container{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.input--with-icon .input__container,.input--with-icon .input__footer{min-width:260px;max-width:400px;margin:0 auto}\@media (min-width:768px){.input--with-icon .input__container,.input--with-icon .input__footer{min-width:300px;max-width:unset;margin:0}}"}};export{v as huk_input};