import{r as t,e as s,h as i,H as e}from"./p-8988f6c5.js";import{M as h,V as a,H as n,h as r,B as o,g as l}from"./p-0afcd70e.js";import{c as u}from"./p-7fc597e3.js";const d={18:"4.73",19:"4.71",20:"4.68",21:"4.65",22:"4.66",23:"4.69",24:"4.77",25:"4.91",26:"5.09",27:"5.33",28:"5.63",29:"5.97",30:"6.37",31:"6.83",32:"7.35",33:"7.94",34:"8.62",35:"9.37",36:"10.22",37:"11.17",38:"12.24",39:"13.44",40:"14.77",41:"16.27",42:"17.96",43:"19.88",44:"22.08",45:"7.12",46:"7.78",47:"8.52",48:"9.34",49:"10.25",50:"11.27",51:"12.41",52:"13.71",53:"15.20",54:"16.92",55:"18.95",56:"21.33",57:"24.18",58:"27.57",59:"31.60",60:"36.32",61:"41.86",62:"48.27",63:"55.55",64:"63.73",65:"72.83",66:"105.98",67:"112.93",68:"120.40",69:"128.34",70:"136.74",71:"145.57",72:"154.56",73:"163.82",74:"173.43"},c=class{constructor(i){t(this,i),this.buttonLabel="Jetzt Starten",this.inputLabel="Wie alt sind sie",this.inputName="get quote",this.frequencyText="im Monat",this.forwardingUrl="",this.errorMessage=[],this.value="",this.disabled=!1,this.validity="not-validated",this.inputTrackingName="Alterseingabe",this.inputTrackingPurpose="alter",this.sendFocusTracking=!0,this.inputIsValid=!1,this.componentName="hero-input-teaser",this.lowerAgeLimitForQuote=18,this.upperAgeLimitForQuote=74,this.lowerAgeLimitError="Leider können wir Ihnen noch kein Angebot unterbreiten, da Sie noch keine 18 Jahre sind.",this.upperAgeLimitError="Leider können wir Ihnen kein Angebot unterbreiten, da Sie älter als 74 Jahre sind.",this.ageKey="userAge",this.activeClass=h(this,"teaser-active"),this.ageInputMask={mask:u({integerLimit:2}),guide:!1,keepCharPositions:!1,showMask:!1},this.getErrorMessage=t=>t<this.lowerAgeLimitForQuote?this.lowerAgeLimitError:t>this.upperAgeLimitForQuote?this.upperAgeLimitError:"",this.getTeaserQuoteFromAge=t=>d[t],this.validateInput=t=>{this.errorMessage=this.getErrorMessage(t),this.validity=a.parse(!this.errorMessage)},this.onInputFocus=()=>{this.sendFocusTracking&&(this.sendFocusTracking=!1,n.trackInputFocus({eventLabel:this.inputTrackingName,componentName:this.componentName,eventTarget:this.inputTrackingPurpose,elementName:"input"}))},this.onButtonClick=()=>{n.trackButtonClick({eventLabel:this.buttonLabel,componentName:this.componentName,eventTarget:"begruessung.Alter",elementName:"button"})},this.handleChange=t=>{const s=t.target.value,i=parseInt(s,10);this.value=s,this.valueChanged.emit(this.value);const e=this.getTeaserQuoteFromAge(s);this.inputIsValid=!!e&&!this.getErrorMessage(i),this.quote=e||this.quote,this.parameterisedUrl=`${this.forwardingUrl}?${this.ageKey}=${s}`,this.validateInput(i)},this.handleSubmit=t=>{if(t.preventDefault(),!this.inputIsValid)return this.validity=a.parse(!1),!1;this.forwardingUrl&&this.forwardingUrl.length>0?window.location.href=this.parameterisedUrl:this.ageSubmitted.emit(parseInt(this.value))},this.valueChanged=s(this,"valueChanged",3),this.ageSubmitted=s(this,"ageSubmitted",3)}render(){const t=r({componentName:this.componentName,additionalClasses:[this.inputIsValid&&this.activeClass]});return i(e,{class:t},i("form",{class:o(this,"wrap"),onSubmit:this.handleSubmit},i("div",{class:o(this,"input-group")},i("div",{class:o(this,"input-wrap")},i("huk-input",{id:"age",onFocussed:this.onInputFocus,onValueChanged:this.handleChange,label:this.inputLabel,name:this.inputName,maskConfig:this.ageInputMask,errorMessage:this.errorMessage,validity:this.validity,disabled:this.disabled})),i("div",{class:o(this,"price-teaser"),"aria-hidden":!this.inputIsValid},i("div",{class:o(this,"offer")},i("span",null,i("strong",null,"ab ",l(parseFloat(this.quote))))),i("div",{class:o(this,"payment-frequency")},this.frequencyText,i("slot",{name:"helpbutton"})))),i("div",{class:o(this,"button")},i("huk-button",{variant:"cta",modifier:"form forward",label:this.buttonLabel,buttonType:"submit",disabled:!this.inputIsValid,onClicked:this.onButtonClick}))))}static get style(){return".huk-text--white{color:#fff}.huk-text--orange{color:#fba308}.huk-text--mint{color:#00abba}.huk-text--mint-dark{color:#055e5f}\@-webkit-keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}\@keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}.hero-input-teaser{display:block;padding-top:1.5rem;margin-right:2rem;position:relative}\@media (min-width:768px){.hero-input-teaser{padding-top:0}}.hero-input-teaser__wrap{-webkit-box-shadow:0 .313rem .625rem 0 rgba(0,0,0,.12);box-shadow:0 .313rem .625rem 0 rgba(0,0,0,.12);background-color:#fff;border-radius:.25rem;margin-bottom:.5rem;padding:1.5rem 1.5rem 2rem;display:-ms-flexbox;display:flex;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-ms-flex-line-pack:stretch;align-content:stretch;-ms-flex-align:start;align-items:flex-start;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:justify;justify-content:space-between}\@media (min-width:768px){.hero-input-teaser__wrap{margin-bottom:1rem;padding:2rem 0 0 2rem;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:start;justify-content:flex-start;margin:0 auto 1.5rem;width:37.75rem}}.hero-input-teaser__input-group{display:-ms-flexbox;display:flex;-ms-flex:1 1 auto;flex:1 1 auto}.hero-input-teaser__input-wrap{-ms-flex:1 1 auto;flex:1 1 auto}.hero-input-teaser__price-teaser{margin-left:2rem;-ms-flex:1 0 auto;flex:1 0 auto}.hero-input-teaser__price-teaser[aria-hidden]{display:none}.hero-input-teaser__offer{font-size:23px}\@media (min-width:576px){.hero-input-teaser__offer{font-size:33px}}.hero-input-teaser__payment-frequency huk-helpbutton{margin-left:.5rem}.hero-input-teaser__button{position:absolute;left:50%;top:100%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);padding-top:1rem}\@media (min-width:768px){.hero-input-teaser__button{-ms-flex:0 0 auto;flex:0 0 auto;position:relative;-webkit-transform:none;transform:none;padding:0;left:auto;top:auto;right:-2rem}}"}};export{c as huk_hero_input_teaser};