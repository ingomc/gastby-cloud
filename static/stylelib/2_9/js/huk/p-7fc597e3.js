var r="_",e="function",n=[];function o(e,o){if(void 0===e&&(e=n),void 0===o&&(o=r),!Array.isArray(e))throw new Error("Text-mask:convertMaskToPlaceholder; The mask property must be an array.");if(-1!==e.indexOf(o))throw new Error("Placeholder character must not be used as part of the mask. Please specify a character that is not present in your mask as your placeholder character.\n\nThe placeholder character that was received is: "+JSON.stringify(o)+"\n\nThe mask that was received is: "+JSON.stringify(e));return e.map((function(r){return r instanceof RegExp?o:r})).join("")}function t(r){return"string"==typeof r||r instanceof String}var i="[]";function a(r){for(var e=[],n=r.indexOf(i);-1!==n;)e.push(n),r.splice(n,1),n=r.indexOf(i);return{indexes:e,maskWithoutCaretTraps:r}}function u(){return function(r){return r.toUpperCase()}}var f="";function v(e,n,t){if(void 0===t&&(t={}),!(n=s(e,n,t)))return{conformedValue:e,meta:{someCharsRejected:!1}};var i=t.guide,a=void 0===i||i,u=t.previousConformedValue,v=void 0===u?f:u,c=t.placeholderChar,d=void 0===c?r:c,l=t.placeholder,h=void 0===l?o(n,d):l,p=t.currentCaretPosition,m=t.keepCharPositions,y=!1===a&&void 0!==v,w=e.length,g=v.length,C=h.length,k=n.length,b=w-g,T=b>0,P=((void 0===p?0:p)||0)+(T?-b:0),x=P+Math.abs(b);if(!0===m&&!T){for(var V=f,M=P;M<x;M++)h[M]===d&&(V+=d);e=e.slice(0,P)+V+e.slice(P,w)}var E=e.split(f).map((function(r,e){return{char:r,isNew:e>=P&&e<x}}));for(M=w-1;M>=0;M--){var j=E[M].char;j!==d&&j===h[M>=P&&g===k?M-b:M]&&E.splice(M,1)}var A=f,N=!1;r:for(M=0;M<C;M++){var O=h[M];if(O===d){if(E.length>0)for(;E.length>0;){var S=E.shift(),R=S.char,$=S.isNew;if(R===d&&!0!==y){A+=d;continue r}if(n[M].test(R)){if(!0===m&&!1!==$&&v!==f&&!1!==a&&T){for(var z=E.length,J=null,q=0;q<z;q++){var D=E[q];if(D.char!==d&&!1===D.isNew)break;if(D.char===d){J=q;break}}null!==J?(A+=R,E.splice(J,1)):M--}else A+=R;continue r}N=!0}!1===y&&(A+=h.substr(M,C));break}A+=O}if(y&&!1===T){var F=null;for(M=0;M<A.length;M++)h[M]===d&&(F=M);A=null!==F?A.substr(0,F+1):f}return{conformedValue:A,meta:{someCharsRejected:N}}}function c(r,e,n){if(void 0===n&&(n={}),!(e=s(r,e,n)))return r;for(var o="",t=0,i=Math.min(r.length,e.length);t<i;++t)"string"!=typeof e[t]&&(o+=r[t]);return o}function d(r,e){return r.split("").every((function(r){return r===e.placeholderChar}))}function s(r,e,n){for(;!Array.isArray(e);){if(!e)return!1;e="function"==typeof e?e(r,n):e.mask}return a(e).maskWithoutCaretTraps}var l=[],h="",p=function(){return(p=Object.assign||function(r){for(var e,n=1,o=arguments.length;n<o;n++)for(var t in e=arguments[n])Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r}).apply(this,arguments)},m="",y="none",w="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent);function g(n){var i={previousConformedValue:void 0,previousPlaceholder:void 0};return{state:i,update:function(u,f){var c=void 0===f?n:f,d=c.inputElement,s=c.mask,g=c.guide,C=c.pipe,k=c.placeholderChar,b=void 0===k?r:k,T=c.keepCharPositions,P=void 0!==T&&T,x=c.showMask,V=void 0!==x&&x;if(void 0===u&&(u=d.value),u!==i.previousConformedValue){var M;"object"==typeof(M=s)&&null!=M&&M.hasOwnProperty("pipe")&&M.hasOwnProperty("mask")&&void 0!==s.pipe&&void 0!==s.mask&&(C=s.pipe,s=s.mask);var E,j="";if(s instanceof Array&&(j=o(s,b)),!1!==s){var A,N=function(r){if(t(r))return r;if("number"!=typeof(e=r)||isNaN(e)){if(null==r)return m;throw new Error("The 'value' provided to Text Mask needs to be a string or a number. The value received was:\n\n "+JSON.stringify(r))}return String(r);var e}(u),O=d.selectionEnd,S=i.previousConformedValue,R=i.previousPlaceholder;if(function(r){return"function"==typeof r}(s)){if(!1===(E=s(N,{currentCaretPosition:O,previousConformedValue:S,placeholderChar:b})))return;var $=a(E);A=$.indexes,j=o(E=$.maskWithoutCaretTraps,b)}else E=s;var z={previousConformedValue:S,guide:g,placeholderChar:b,pipe:C,placeholder:j,currentCaretPosition:O,keepCharPositions:P},J=v(N,E,z).conformedValue,q=typeof C===e,D={};q&&(!1===(D=C(J,p({rawValue:N},z)))?D={value:S,rejected:!0}:t(D)&&(D={value:D}));var F,I,W=q?D.value:J,_=function(r){var e=r.previousConformedValue,n=void 0===e?h:e,o=r.previousPlaceholder,t=void 0===o?h:o,i=r.currentCaretPosition,a=void 0===i?0:i,u=r.conformedValue,f=r.rawValue,v=r.placeholderChar,c=r.placeholder,d=r.indexesOfPipedChars,s=void 0===d?l:d,p=r.caretTrapIndexes,m=void 0===p?l:p;if(0===a||!f.length)return 0;var y=n.length,w=c.length,g=u.length,C=f.length-y,k=C>0;if(C>1&&!k&&0!==y)return a;var b,T,P=0;if(!k||n!==u&&u!==c){var x=u.toLowerCase(),V=f.toLowerCase().substr(0,a).split(h).filter((function(r){return-1!==x.indexOf(r)}));T=V[V.length-1];var M=t.substr(0,V.length).split(h).filter((function(r){return r!==v})).length,E=c.substr(0,V.length).split(h).filter((function(r){return r!==v})).length;!k&&(E!==M||void 0!==t[V.length-1]&&void 0!==c[V.length-2]&&t[V.length-1]!==v&&t[V.length-1]!==c[V.length-1]&&t[V.length-1]===c[V.length-2])&&M>0&&c.indexOf(T)>-1&&void 0!==f[a]&&(b=!0,T=f[a]);for(var j=s.map((function(r){return x[r]})).filter((function(r){return r===T})).length,A=V.filter((function(r){return r===T})).length,N=c.substr(0,c.indexOf(v)).split(h).filter((function(r,e){return r===T&&f[e]!==r})).length+A+j+(b?1:0),O=0,S=0;S<g&&(P=S+1,x[S]===T&&O++,!(O>=N));S++);}else P=a-C;if(k){var R=P;for(S=P;S<=w;S++)if(c[S]===v&&(R=S),c[S]===v||-1!==m.indexOf(S)||S===w)return R}else if(b){for(S=P-1;S>=0;S--)if(u[S]===T||-1!==m.indexOf(S)||0===S)return S}else for(S=P;S>=0;S--)if(c[S-1]===v||-1!==m.indexOf(S)||0===S)return S}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */({previousConformedValue:S,previousPlaceholder:R,placeholder:j,currentCaretPosition:O,placeholderChar:b,caretTrapIndexes:A,conformedValue:W,rawValue:N,indexesOfPipedChars:D.indexesOfPipedChars}),B=W===j&&0===_?V?j:m:W;i.previousConformedValue=B,i.previousPlaceholder=j,d.value!==B&&(d.value=B,F=d,I=_,document.activeElement===F&&(w?requestAnimationFrame((function(){return F.setSelectionRange(I,I,y)})):F.setSelectionRange(I,I,y)))}}}}}var C=/[|\\{}()[\]^$+*?.]/g,k=function(r){if("string"!=typeof r)throw new TypeError("Expected a string");return r.replace(C,"\\$&")},b=/\D+/g,T=/\d/,P=/[1-9]/;function x(r){var e=void 0===r?{}:r,n=e.prefix,o=e.suffix,t=e.includeThousandsSeparator,i=void 0!==t&&t,a=e.thousandsSeparatorSymbol,u=void 0===a?".":a,f=e.decimals,v=void 0===f?0:f,c=e.decimalSymbol,d=void 0===c?",":c,s=e.integerLimit,l=void 0===s?null:s,h=n?n.split("").concat(["[]"]):[],p=o?["[]"].concat(o.split("")):[],m=new RegExp(k(d));return function(r){n&&r.startsWith(n)&&(r=r.substr(n.length)),o&&r.endsWith(o)&&(r=r.slice(0,-o.length));var e,t=r.indexOf(d),a=-1!==t&&!!v,f="";a?(e=r.slice(0,t),f=r.slice(t+1).replace(b,"")):e=r,e=(e=e.replace(b,"")).replace(/^0+(0$|[^0])/,"$1"),l&&(e=e.slice(0,l));var c=h.slice();return e?c.push.apply(c,function(r,e){if(!e)return r.split("").map(V);for(var n=(r.length-1)%3+1,o=0,t=[];;){for(;n>0;--n,++o)t.push(V(r[o]));if(o===r.length)return t;t.push(e),n=3}}(e,i?u:void 0)):c.push(a?"0":T),a&&c.push.apply(c,[m].concat(new Array(Math.min(v,f.length)).fill(T))),c.push.apply(c,p),c}}function V(r){return"0"===r?T:P}var M=/[a-z]/i,E=/\d/,j=" ",A=/^([a-z]+)([\d]*)/i,N=/[^\da-z]/gi;function O(){var r=[M,M,j,E,E,E];return{mask:function(e,n){var o=e.replace(N,"");if(!o)return r;var t=null!=n.previousConformedValue&&n.previousConformedValue.includes(j)&&!e.includes(j),i=A.exec(o),a=[];return i?(S(a,M,Math.min(i[1].length,2)),t||a.push(j),a.push("[]"),S(a,E,i[2]?Math.min(i[2].length,4):3),a):(a.push("[]"),S(a,E,Math.min(o.length,4)),a)},pipe:function(r){return r.toUpperCase()}}}function S(r,e,n){for(var o=0;o<n;o++)r.push(e)}export{u as a,O as b,x as c,v as d,g as e,d as i,c as s};