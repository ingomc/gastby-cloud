import{r as t,e as s,h as i,H as h,c as e}from"./p-8988f6c5.js";import{M as a,B as r,w as n,x as o,h as l}from"./p-0afcd70e.js";class c{constructor(t){this.componentName="overlay-view",this.classNameIsVisible=a(this,"is-visible"),this.classNameEndRect=a(this,"get-end-rect"),this.classNameFixRect=a(this,"fix-rect"),this.classNameAnimateWithoutScrollbar=a(this,"without-scrollbar"),t&&(t.element&&(this.element=t.element),t.wrap&&this.element&&(this.wrap=this.element.querySelector("."+t.wrap)),t.triggerElement&&(this.triggerElement=t.triggerElement),t.overlayView&&(this.overlayView=t.overlayView))}doOpenAnimation(){if(clearTimeout(this.closeTimeout),this.renderWrapStyles({}),this.renderClassNamesToGetEndRect("add"),this.element&&null!==this.wrap&&this.overlayView){const t=this.getEndRect(!0),s=this.wrap.querySelector(`.${r(this,"content")}`),i=null!==s&&s.offsetHeight,h=this.wrap.querySelector(`.${r(this,"scroll-container")}`);this.renderClassNamesToGetEndRect(i>=(null!==h&&h.offsetHeight)?"no-scrollbar":"scrollbar"),t.width&&(this.renderWrapStyles(this.getStartRect()),this.renderClassNamesToGetEndRect("remove"),this.overlayView.doOpenAnimation(()=>{this.renderWrapStyles(t),this.openTimeout=setTimeout(()=>{this.renderWrapStyles({}),this.renderClassNamesToGetEndRect("fix"),this.renderClassNamesToGetEndRect("scrollbar")},500)}))}}doCloseAnimation(){clearTimeout(this.openTimeout),this.renderWrapStyles(this.getEndRect(!0)),this.renderClassNamesToGetEndRect("unfix"),this.closeTimeout=setTimeout(()=>{this.renderWrapStyles(this.getStartRect()),this.overlayView.doCloseAnimation()},50)}renderWrapStyles(t){this.element&&null!==this.wrap&&this.wrap.setAttribute("style",n(t))}renderClassNamesToGetEndRect(t){if(this.element){const s=this.element.classList;switch(t){case"add":this.renderWrapStyles({}),s.add(this.classNameEndRect),s.add(this.classNameIsVisible);break;case"remove":s.remove(this.classNameEndRect),s.remove(this.classNameIsVisible);break;case"fix":s.add(this.classNameFixRect);break;case"unfix":s.remove(this.classNameFixRect);break;case"no-scrollbar":s.add(this.classNameAnimateWithoutScrollbar);break;case"scrollbar":s.remove(this.classNameAnimateWithoutScrollbar)}}}getStartRect(){return this.triggerElement?o(this.triggerElement.getClientRects()[0]):{}}getEndRect(t=!1){let s={};if(this.element&&null!==this.wrap&&(s=o(this.wrap.getClientRects()[0]),t&&s&&s.width&&s.left)){const t=window.getComputedStyle(this.wrap),i=Math.round(parseInt(t.marginTop||"0"));s.top=Math.round(parseInt(s.top+""))-i+"px",s.left=Math.round(parseInt(s.left+""))-i+"px",s.width=Math.round(parseInt(s.width+""))+"px"}return s}}const m=class{constructor(i){t(this,i),this.modifier="default",this.fullHeight=!1,this.noRichtextMargins=!1,this.closeable=!0,this.small=!1,this.teaserLine="",this.headLine="",this.componentName="overlay-view",this.isVisible=!1,this.classNameIsVisible=a(this,"is-visible"),this.classNameIsFading=a(this,"is-fading"),this.clickCloseButton=()=>{this.close()},this.closed=s(this,"closed",3)}async open(){switch(this.modifier){case"default":this.doOpenAnimation();break;case"grow-from-to-animation":new c({wrap:r(this,"wrap"),element:this.element,triggerElement:this.triggerElement,overlayView:this}).doOpenAnimation()}this.scrollUp()}doOpenAnimation(t){clearTimeout(this.closeTimeout),this.element.classList.add(this.classNameIsVisible),this.openTimeout=setTimeout(()=>{requestAnimationFrame(()=>{t&&t(),this.element.classList.add(this.classNameIsFading),this.isVisible=!0})},50)}async close(){switch(this.modifier){case"default":this.doCloseAnimation();break;case"grow-from-to-animation":new c({wrap:r(this,"wrap"),element:this.element,triggerElement:this.triggerElement,overlayView:this}).doCloseAnimation()}}doCloseAnimation(){clearTimeout(this.openTimeout),this.element.classList.remove(this.classNameIsFading),this.closeTimeout=setTimeout(()=>{this.element.classList.remove(this.classNameIsVisible),this.isVisible=!1,this.closed.emit(),"grow-from-to-animation"===this.modifier&&new c({wrap:r(this,"wrap"),element:this.element}).renderWrapStyles({})},500)}scrollUp(){const t=this.element.querySelector(".overlay-view__content");t&&(t.scrollTop=0)}listenOnESC(t){this.closeable&&t&&t.key&&t.key.startsWith("Esc")&&this.isVisible&&this.close()}listenOutsideClicks(t){if(!this.closeable)return;const s=t&&t.target,i=s&&s.closest("."+r(this,"wrap"));if(!s||!this.isVisible||this.isVisible&&i)return!1;this.close()}render(){const t=l({componentName:this.componentName,modifier:[this.modifier,this.fullHeight&&"full-height",this.noRichtextMargins&&"no-richtext-margins",this.small&&"is-small"]});return i(h,{class:t},i("div",{class:r(this,"wrap",!this.closeable&&"no-close")},this.closeable&&i("div",{class:r(this,"close"),onClick:this.clickCloseButton},i("huk-icon",{icon:"close",hasHover:!0})),i("div",{class:r(this,"content")},i("div",{class:r(this,"scroll-container")},this.teaserLine&&i("div",{class:r(this,"teaserline")},this.teaserLine),this.headLine&&i("div",{class:r(this,"headline"),innerHTML:this.headLine}),i("div",{class:r(this,"richtext richtext")})))))}get element(){return e(this)}static get style(){return".huk-text--white{color:#fff}.huk-text--orange{color:#fba308}.huk-text--mint{color:#00abba}.huk-text--mint-dark{color:#055e5f}\@-webkit-keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}\@keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}.overlay-view{z-index:5000;display:none}.overlay-view,.overlay-view:after{position:fixed;top:0;bottom:0;left:0;right:0}.overlay-view:after{display:block;content:\"\";background-color:#000;opacity:.5;z-index:1;pointer-events:none;-webkit-transition:all .5s ease-in 0ms;transition:all .5s ease-in 0ms}.overlay-view__wrap{z-index:2;border-radius:.25rem 1rem .25rem .25rem;overflow:hidden;position:relative;margin:1rem}\@media (min-width:576px){.overlay-view__wrap{margin:1.5rem;max-width:911px;max-height:75vh}}.overlay-view__wrap--no-close{border-radius:.25rem .25rem .25rem .25rem}.overlay-view__close{position:absolute;top:-.5rem;right:-.5rem;cursor:pointer;z-index:3}.overlay-view__close huk-icon{width:2rem;height:2rem;z-index:2;position:absolute;top:.5rem;right:.5rem}.overlay-view__close:after{content:\"\";width:3rem;height:3rem;background-color:#68747a;opacity:1;border-radius:2.5rem;position:absolute;right:0;top:0;z-index:1}.overlay-view__content{overflow:auto;overflow-x:hidden;-webkit-overflow-scrolling:touch;max-height:75vh;height:100%;background-color:#fff;padding:2.5rem 1rem 1rem;z-index:2;line-height:1.42;-webkit-box-sizing:border-box;box-sizing:border-box}\@media (min-width:576px){.overlay-view__content{padding:2.5rem}}\@media (min-width:1024px){.overlay-view__content{padding:4.375rem 8.75rem}}.overlay-view__teaserline{font-size:13px;font-weight:700;text-transform:uppercase;text-align:center}.overlay-view__headline{font-size:33px;font-weight:700;color:#35444c;padding:.5rem 0 1.5rem;text-align:center}\@media (min-width:576px){.overlay-view__headline{font-size:48px;padding:0 0 2.5rem}}\@media (min-width:576px){.overlay-view__teaserline+.overlay-view__headline{padding-top:2.5rem}}.overlay-view__richtext [slot=overlay]{display:block}.overlay-view .richtext h1,.overlay-view .richtext h2,.overlay-view .richtext h3,.overlay-view .richtext h4,.overlay-view .richtext h5,.overlay-view .richtext p{margin:0}\@media (min-width:576px){.overlay-view .richtext h1,.overlay-view .richtext h2,.overlay-view .richtext h3,.overlay-view .richtext h4,.overlay-view .richtext h5,.overlay-view .richtext p{margin:0 1.5rem}}\@media (min-width:768px){.overlay-view .richtext h1,.overlay-view .richtext h2,.overlay-view .richtext h3,.overlay-view .richtext h4,.overlay-view .richtext h5,.overlay-view .richtext p{margin:0 4rem}}.overlay-view .richtext p{margin-top:1rem;margin-bottom:1rem}\@media (min-width:576px){.overlay-view .richtext ol,.overlay-view .richtext ul{margin:2rem 1.5rem}}\@media (min-width:768px){.overlay-view .richtext ol,.overlay-view .richtext ul{margin:3rem 4rem}}.overlay-view .richtext .button:last-child{margin-bottom:0}.overlay-view--is-visible{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;pointer-events:all}.overlay-view--is-visible .overlay-view__wrap:after{-webkit-animation-name:bgAnimationIn;animation-name:bgAnimationIn;-webkit-animation-duration:.5s;animation-duration:.5s}.overlay-view--default.overlay-view{opacity:0;-webkit-transition:opacity .5s ease-in 0ms;transition:opacity .5s ease-in 0ms}.overlay-view--default.overlay-view .overlay-view__wrap{-webkit-transform:translateY(-100px);transform:translateY(-100px);opacity:0;-webkit-transition:opacity .25s ease-in-out 0ms,-webkit-transform .25s ease-in-out 0ms;transition:opacity .25s ease-in-out 0ms,-webkit-transform .25s ease-in-out 0ms;transition:transform .25s ease-in-out 0ms,opacity .25s ease-in-out 0ms;transition:transform .25s ease-in-out 0ms,opacity .25s ease-in-out 0ms,-webkit-transform .25s ease-in-out 0ms}.overlay-view--default.overlay-view--is-fading{opacity:1}.overlay-view--default.overlay-view--is-fading .overlay-view__wrap{-webkit-transform:translateY(0);transform:translateY(0);opacity:1}.overlay-view--full-height .overlay-view__wrap{min-height:75vh;height:100%;max-height:75vh}.overlay-view--no-richtext-margins .overlay-view__richtext h1,.overlay-view--no-richtext-margins .overlay-view__richtext h2,.overlay-view--no-richtext-margins .overlay-view__richtext h3,.overlay-view--no-richtext-margins .overlay-view__richtext h4,.overlay-view--no-richtext-margins .overlay-view__richtext h5,.overlay-view--no-richtext-margins .overlay-view__richtext p{margin-left:0;margin-right:0}.overlay-view--is-small .overlay-view__headline{font-size:23px;padding-top:1.5rem;padding-bottom:0}\@media (min-width:576px){.overlay-view--is-small .overlay-view__wrap{max-width:448px}}.overlay-view--is-small .overlay-view__content{font-size:19px;padding:1.5rem}.overlay-view--is-small .overlay-view__content huk-button{margin-bottom:0}.overlay-view--is-small .richtext p{margin:2rem 0}.overlay-view--is-small .richtext p:last-child{margin-bottom:0}.overlay-view--grow-from-to-animation.overlay-view{opacity:0;-webkit-transition:opacity .5s ease-in 0ms;transition:opacity .5s ease-in 0ms}.overlay-view--grow-from-to-animation.overlay-view .overlay-view__wrap{position:absolute;opacity:0;-webkit-transition:top .25s ease-in-out 0ms,left .25s ease-in-out 0ms,width .25s ease-in-out 0ms,height .25s ease-in-out 0ms,opacity .25s ease-in-out 0ms;transition:top .25s ease-in-out 0ms,left .25s ease-in-out 0ms,width .25s ease-in-out 0ms,height .25s ease-in-out 0ms,opacity .25s ease-in-out 0ms}.overlay-view--grow-from-to-animation.overlay-view--get-end-rect{opacity:0}.overlay-view--grow-from-to-animation.overlay-view--fix-rect .overlay-view__wrap,.overlay-view--grow-from-to-animation.overlay-view--get-end-rect .overlay-view__wrap{position:relative}.overlay-view--grow-from-to-animation.overlay-view--without-scrollbar .overlay-view__content{overflow:hidden}.overlay-view--grow-from-to-animation.overlay-view--is-fading,.overlay-view--grow-from-to-animation.overlay-view--is-fading .overlay-view__wrap{opacity:1}"}};export{m as huk_overlay_view};